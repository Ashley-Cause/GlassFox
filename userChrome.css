/* General Sizing */

:root {
  --browser-padding: 10px;
  --border-radius: 5px;
}

/* Transparency/Translucency */
:is(body > *,
#navigator-toolbox,
#sidebar-main,
#browser,
div.wrapper) {
  appearance: -moz-window-titlebar !important;
  &:not(div.wrapper, #customization-container) > * {
    background: rgba(0, 0, 0, .1) !important;
    box-shadow: 1px 1px 5px rgba(0, 0, 0, .4);
  }
}

/* 
General Browser Styling
  - Spacing
    - Gap
    - Padding
  - Rounded Borders
*/
body > #browser, #navigator-toolbox {
  padding: var(--browser-padding) !important;
  gap: var(--browser-padding);
  
  > *, sidebar-main {
    border-radius: var(--border-radius) !important;
    border: none !important;
  }
}

body > #browser {
  margin-top: calc(-2 * var(--browser-padding));
  #tabbrowser-tabpanels, #appcontent {
    background-color: transparent !important;
  }
}

/* Remove Scrollbars */
#vertical-pinned-tabs-container, scrollbox  {
  scrollbar-width: none !important;
}

/* Add border radius to developer tools */
browser[class*="devtools-toolbox"] {
  border-radius: var(--border-radius);
  overflow: hidden !important;
}
splitter[class*="devtools"] {
  display: none !important;
}

:root {
  &:has(#sidebar-main [expanded]) {
    --sidebar-width: var(--sidebar-expanded-width);
  }
  &[BookmarksToolbarOverlapsBrowser] {
    #PersonalToolbar {
      margin-left: calc(var(--sidebar-width, var(--sidebar-collapsed-width)) + var(--browser-padding)) !important;
    }
    .newTabBrowserPanel, & #sidebar-main, & #sidebar-box, & .sidebar-animation-screenshot {
      margin-top: 0px !important;
    }
    body > #browser > :not(#sidebar-main) {
      margin-top: calc(var(--bookmarks-toolbar-overlapping-browser-height) + var(--browser-padding));
    }
  }
  &:has(sidebar-main:not([hidden])) {
    #titlebar {
      display: none !important;
    }
    #nav-bar > toolbartabstop:nth-child(1) {
      appearance: -moz-window-button-box !important;
      margin: 12px;
    }
  }
  
}
